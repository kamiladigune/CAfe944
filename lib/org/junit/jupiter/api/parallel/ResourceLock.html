<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>ResourceLock (junit-jupiter-api 5.13.0-M2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.junit.jupiter.api.parallel, annotation type: ResourceLock">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language">junit-jupiter-api</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ResourceLock.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li>Required</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.junit.jupiter.api.parallel</a></div>
<h1 title="Annotation Interface ResourceLock" class="title">Annotation Interface ResourceLock</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@API(status=STABLE,
     since="5.10")
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>({<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#TYPE" title="class or interface in java.lang.annotation" class="external-link">TYPE</a>,<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>})
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Inherited.html" title="class or interface in java.lang.annotation" class="external-link">@Inherited</a>
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Repeatable.html" title="class or interface in java.lang.annotation" class="external-link">@Repeatable</a>(<a href="ResourceLocks.html" title="annotation interface in org.junit.jupiter.api.parallel">ResourceLocks.class</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">ResourceLock</span></div>
<div class="block"><code>@ResourceLock</code> is used to declare that the annotated test class or test
 method requires access to a shared resource identified by a key.

 <p>The resource key is specified via <a href="#value()"><code>value()</code></a>. In addition, <a href="#mode()"><code>mode()</code></a>
 allows one to specify whether the annotated test class or test method requires
 <a href="ResourceAccessMode.html#READ_WRITE"><code>READ_WRITE</code></a> or
 <a href="ResourceAccessMode.html#READ"><code>READ</code></a> access to the resource. In the former case,
 execution of the annotated element will occur while no other test class or
 test method that uses the shared resource is being executed. In the latter case,
 the annotated element may be executed concurrently with other test classes or
 methods that also require <code>READ</code> access but not at the same time as any
 other test that requires <code>READ_WRITE</code> access.

 <p>This guarantee extends to lifecycle methods of a test class or method. For
 example, if a test method is annotated with <code>@ResourceLock</code> the lock
 will be acquired before any <a href="../BeforeEach.html" title="annotation interface in org.junit.jupiter.api"><code>@BeforeEach</code></a>
 methods are executed and released after all
 <a href="../AfterEach.html" title="annotation interface in org.junit.jupiter.api"><code>@AfterEach</code></a> methods have been executed.

 <p>This annotation can be repeated to declare the use of multiple shared resources.

 <p>Uniqueness of a shared resource is determined by both the <a href="#value()"><code>value()</code></a>
 and the <a href="#mode()"><code>mode()</code></a>. Duplicated shared resources do not cause errors.

 <p>Since JUnit Jupiter 5.4, this annotation is <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Inherited.html" title="class or interface in java.lang.annotation" class="external-link">inherited</a>
 within class hierarchies.

 <p>Since JUnit Jupiter 5.12, this annotation supports adding shared resources
 dynamically at runtime via <a href="#providers()"><code>providers()</code></a>. Resources declared "statically"
 using <a href="#value()"><code>value()</code></a> and <a href="#mode()"><code>mode()</code></a> are combined with "dynamic" resources
 added via <a href="#providers()"><code>providers()</code></a>. For example, declaring resource "A" via
 <code>@ResourceLock("A")</code> and resource "B" via a provider returning
 <code>new Lock("B")</code> will result in two shared resources "A" and "B".

 <p>Since JUnit Jupiter 5.12, this annotation supports declaring "static"
 shared resources for <em>direct</em> child nodes via the <a href="#target()"><code>target()</code></a>
 attribute. Using <a href="ResourceLockTarget.html#CHILDREN"><code>ResourceLockTarget.CHILDREN</code></a> in a class-level annotation
 has the same semantics as adding an annotation with the same <a href="#value()"><code>value()</code></a>
 and <a href="#mode()"><code>mode()</code></a> to each test method and nested test class declared in the
 annotated class. This may improve parallelization when a test class declares a
 <a href="ResourceAccessMode.html#READ"><code>READ</code></a> lock, but only a few methods hold
 <a href="ResourceAccessMode.html#READ_WRITE"><code>READ_WRITE</code></a> lock. Note that
 <code>target = CHILDREN</code> means that <a href="#value()"><code>value()</code></a> and <a href="#mode()"><code>mode()</code></a> no
 longer apply to a node declaring the annotation. However, the <a href="#providers()"><code>providers()</code></a>
 attribute remains applicable, and the target of "dynamic" shared resources added
 via implementations of <a href="ResourceLocksProvider.html" title="interface in org.junit.jupiter.api.parallel"><code>ResourceLocksProvider</code></a> is not changed.

 <p>Shared resources declared on or provided for methods or nested test
 classes in a <a href="../ClassTemplate.html" title="annotation interface in org.junit.jupiter.api"><code>@ClassTemplate</code></a> are propagated as if they
 were declared on the outermost enclosing <code>@ClassTemplate</code> class itself.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>5.3</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Isolated.html" title="annotation interface in org.junit.jupiter.api.parallel"><code>Isolated</code></a></li>
<li><a href="Resources.html" title="class in org.junit.jupiter.api.parallel"><code>Resources</code></a></li>
<li><a href="ResourceAccessMode.html" title="enum class in org.junit.jupiter.api.parallel"><code>ResourceAccessMode</code></a></li>
<li><a href="ResourceLockTarget.html" title="enum class in org.junit.jupiter.api.parallel"><code>ResourceLockTarget</code></a></li>
<li><a href="ResourceLocks.html" title="annotation interface in org.junit.jupiter.api.parallel"><code>ResourceLocks</code></a></li>
<li><a href="ResourceLocksProvider.html" title="interface in org.junit.jupiter.api.parallel"><code>ResourceLocksProvider</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="ResourceAccessMode.html" title="enum class in org.junit.jupiter.api.parallel">ResourceAccessMode</a></code></div>
<div class="col-second even-row-color"><code><a href="#mode()" class="member-name-link">mode</a></code></div>
<div class="col-last even-row-color">
<div class="block">The resource access mode.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;? extends <a href="ResourceLocksProvider.html" title="interface in org.junit.jupiter.api.parallel">ResourceLocksProvider</a>&gt;[]</code></div>
<div class="col-second odd-row-color"><code><a href="#providers()" class="member-name-link">providers</a></code></div>
<div class="col-last odd-row-color">
<div class="block">An array of one or more classes implementing <a href="ResourceLocksProvider.html" title="interface in org.junit.jupiter.api.parallel"><code>ResourceLocksProvider</code></a>.</div>
</div>
<div class="col-first even-row-color"><code><a href="ResourceLockTarget.html" title="enum class in org.junit.jupiter.api.parallel">ResourceLockTarget</a></code></div>
<div class="col-second even-row-color"><code><a href="#target()" class="member-name-link">target</a></code></div>
<div class="col-last even-row-color">
<div class="block">The target of a resource created from <a href="#value()"><code>value()</code></a> and <a href="#mode()"><code>mode()</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#value()" class="member-name-link">value</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The resource key.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="value()">
<h3>value</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">value</span></div>
<div class="block">The resource key.

 <p>Defaults to an empty string.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="Resources.html" title="class in org.junit.jupiter.api.parallel"><code>Resources</code></a></li>
<li><a href="ResourceLocksProvider.Lock.html#getKey()"><code>ResourceLocksProvider.Lock.getKey()</code></a></li>
</ul>
</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>""</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mode()">
<h3>mode</h3>
<div class="member-signature"><span class="return-type"><a href="ResourceAccessMode.html" title="enum class in org.junit.jupiter.api.parallel">ResourceAccessMode</a></span>&nbsp;<span class="element-name">mode</span></div>
<div class="block">The resource access mode.

 <p>Defaults to <a href="ResourceAccessMode.html#READ_WRITE"><code>READ_WRITE</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="ResourceAccessMode.html" title="enum class in org.junit.jupiter.api.parallel"><code>ResourceAccessMode</code></a></li>
<li><a href="ResourceLocksProvider.Lock.html#getAccessMode()"><code>ResourceLocksProvider.Lock.getAccessMode()</code></a></li>
</ul>
</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>READ_WRITE</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="providers()">
<h3>providers</h3>
<div class="member-signature"><span class="annotations">@API(status=EXPERIMENTAL,
     since="5.12")
</span><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;? extends <a href="ResourceLocksProvider.html" title="interface in org.junit.jupiter.api.parallel">ResourceLocksProvider</a>&gt;[]</span>&nbsp;<span class="element-name">providers</span></div>
<div class="block">An array of one or more classes implementing <a href="ResourceLocksProvider.html" title="interface in org.junit.jupiter.api.parallel"><code>ResourceLocksProvider</code></a>.

 <p>Defaults to an empty array.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>5.12</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="ResourceLocksProvider.Lock.html" title="class in org.junit.jupiter.api.parallel"><code>ResourceLocksProvider.Lock</code></a></li>
</ul>
</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>{}</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="target()">
<h3>target</h3>
<div class="member-signature"><span class="annotations">@API(status=EXPERIMENTAL,
     since="5.12")
</span><span class="return-type"><a href="ResourceLockTarget.html" title="enum class in org.junit.jupiter.api.parallel">ResourceLockTarget</a></span>&nbsp;<span class="element-name">target</span></div>
<div class="block">The target of a resource created from <a href="#value()"><code>value()</code></a> and <a href="#mode()"><code>mode()</code></a>.

 <p>Defaults to <a href="ResourceLockTarget.html#SELF"><code>SELF</code></a>.

 <p>Note that using <a href="ResourceLockTarget.html#CHILDREN"><code>ResourceLockTarget.CHILDREN</code></a> in a method-level
 annotation results in an exception.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>5.12</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="ResourceLockTarget.html" title="enum class in org.junit.jupiter.api.parallel"><code>ResourceLockTarget</code></a></li>
</ul>
</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>SELF</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
